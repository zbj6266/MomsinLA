{"version":3,"sources":["../../src/pages/change-pic/change-pic.module.ts","../../src/pages/change-pic/change-pic.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangePicPage } from './change-pic';\n\n@NgModule({\n  declarations: [\n    ChangePicPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChangePicPage),\n  ],\n})\nexport class ChangePicPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-pic/change-pic.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { storage } from 'firebase';\nimport { Storage } from '@ionic/storage';\n/**\n * Generated class for the ChangePicPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-change-pic',\n  templateUrl: 'change-pic.html',\n})\nexport class ChangePicPage {\n\n  user:any = {};\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams,\n    public camera: Camera,\n    public localStorage: Storage) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChangePicPage');\n    this.localStorage.get('user').then(data => this.user=data);\n  }\n\n  async selectImage(index){\n\n    let option: CameraOptions; \n    if(index==0){\n      option = {\n        quality: 100,\n        destinationType: this.camera.DestinationType.DATA_URL,\n        encodingType: this.camera.EncodingType.JPEG,\n        mediaType: this.camera.MediaType.PICTURE,\n        saveToPhotoAlbum: true,\n        allowEdit:true,\n        targetHeight:300,\n        targetWidth:300,\n        correctOrientation: true\n      };\n    }else{\n      option = {\n        quality: 100,\n        destinationType: this.camera.DestinationType.DATA_URL,\n        encodingType: this.camera.EncodingType.JPEG,\n        mediaType: this.camera.MediaType.PICTURE,\n        sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n        allowEdit: true,\n        targetWidth:300,\n        targetHeight: 300,\n        correctOrientation: true\n      }\n    }\n    let imageData = await this.camera.getPicture(option)\n    let base64Image = 'data:image/jpeg;base64,' + imageData;\n    document.getElementById('protrait').style.backgroundImage = base64Image;\n    let name = `/UserImg/${this.user.userID}`;\n    await storage().ref(name).putString(base64Image, 'data_url',{contentType: 'image/png'});\n    let imgUrl: string = await storage().ref(name).getDownloadURL();\n    this.localStorage.set('user', {\n      username: this.user.username,\n      userImg: imgUrl,\n      userID: this.user.userID,\n      userStatus: this.user.userStatus\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-pic/change-pic.ts"],"sourceRoot":""}